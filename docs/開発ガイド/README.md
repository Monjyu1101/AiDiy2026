# このプロジェクトの歩き方

> **フルスタックで保守できる人材になるための道しるべ**

---

## 目次

1. [このプロジェクトについて](#1-このプロジェクトについて)
2. [技術スタックと全体構成](#2-技術スタックと全体構成)
3. [最短で動かす（セットアップ → 起動）](#3-最短で動かすセットアップ--起動)
4. [バックエンド編（FastAPI + PostgreSQL）](#4-バックエンド編fastapi--postgresql)
5. [データベース編（PostgreSQL + Alembic）](#5-データベース編postgresql--alembic)
6. [フロントエンド編（Vue 3 + Vite）](#6-フロントエンド編vue-3--vite)
7. [テスト編](#7-テスト編)
8. [運用とメンテナンス](#8-運用とメンテナンス)
9. [困ったときは](#9-困ったときは)
10. [セキュリティと本番環境](#10-セキュリティと本番環境)
11. [将来の拡張性](#11-将来の拡張性)
12. [別紙：ハンズオン教材一覧](#12-別紙ハンズオン教材一覧)

---

## はじめに：このガイドが目指すこと

あなたがこのリポジトリを手に取った日から、
**「動かせた」→「読めた」→「直せた」→「増やせた」→「テストできた」→「守れた」**
までを、一人でたどれるようにすること。それがこのガイドのゴールです。

### 到達目標

このガイドを読み終えたとき、あなたは以下のことができるようになります：

| レベル | できるようになること |
|--------|---------------------|
| Lv.1 動かせる | 環境構築して、アプリを起動できる |
| Lv.2 読める | コードの流れを追って、どこで何をしているか説明できる |
| Lv.3 直せる | バグを見つけて、修正できる |
| Lv.4 増やせる | 新しい機能を、既存の流儀に沿って追加できる |
| Lv.5 テストできる | 自分の変更が壊れていないことを確認できる |
| Lv.6 守れる | 運用中のトラブルに対処し、システムを健全に保てる |

### このガイドの使い方

- **最短で動かしたい** → [3. 最短で動かす](#3-最短で動かすセットアップ--起動)
- **全体像を知りたい** → [2. 技術スタックと全体構成](#2-技術スタックと全体構成)
- **バックエンド実装を学びたい** → [4. バックエンド編](#4-バックエンド編fastapi--postgresql)
- **フロントエンド実装を学びたい** → [6. フロントエンド編](#6-フロントエンド編vue-3--vite)
- **困ったら** → [9. 困ったときは](#9-困ったときは)

### 学びの3原則

1. **手を動かす** — 読むだけでなく、必ず自分で試す
2. **壊して直す** — 失敗は最高の教材。怖がらずに実験する
3. **聞く勇気** — 詰まったらAIでも先輩でも、遠慮なく頼る

---

## 1. このプロジェクトについて

### 1.1 何を作っているのか

**BASE（開発基盤ベース）** は、業務アプリケーション開発のための基盤システムです。
認証・認可、ユーザー管理、マスタ管理などの「どのアプリにも必要な土台」を提供します。

### 1.2 なぜこの構成なのか

| 選定技術 | 採用理由 |
|----------|----------|
| FastAPI | 自動でAPI仕様書が生成される。型安全。学習コストが低い |
| PostgreSQL | 堅牢で信頼性が高い。業務システムの定番 |
| SQLAlchemy + Alembic | PythonでDBを扱うデファクト。マイグレーションも安心 |
| Vue 3 + Vite | 高速な開発体験。コンポーネント設計が自然にできる |
| Pinia | Vueの状態管理。シンプルで型との相性も良い |

この組み合わせは「**速く作れて、長く保守できる**」ことを重視しています。

---

## 2. 技術スタックと全体構成

### 2.1 システム構成図

```
┌─────────────────────────────────────────────────────────────┐
│ ユーザー │
│ （ブラウザ） │
└─────────────────────────┬───────────────────────────────────┘
 │
 ┌─────────────────┴─────────────────┐
 │ │
 ▼ ▼
┌───────────────────┐ ┌───────────────────┐
│ フロントエンド │ │ API Docs │
│ localhost:8080 │ │ localhost:8081 │
│ │ │ /base/api/docs │
│ Vue 3 + Vite │ │ (Swagger UI) │
│ Pinia │ │ │
│ Bootstrap │ │ │
└─────────┬─────────┘ └───────────────────┘
 │ │
 │ /api/... (proxy) │
 ▼ ▼
┌─────────────────────────────────────────────────────────────┐
│ バックエンド │
│ localhost:8081 │
│ │
│ FastAPI + SQLAlchemy + Alembic + JWT │
│ │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ Router → Service → CRUD → Model │ │
│ │ (受付) (調理) (倉庫) (設計図) │ │
│ └─────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────┘
 │
 ▼
 ┌─────────────────┐
 │ PostgreSQL │
 │ (データベース) │
 └─────────────────┘
```

### 2.2 リポジトリ構成

```
workspace/AiDiy2026/
│
├── _start.py # 一括起動スクリプト
├── _setup.py # 初回セットアップ
├── _cleanup.py # クリーンアップ
├── AGENTS.md # プロジェクト概要
│
├── base_server/ # -- バックエンド --
│ ├── baseapp/
│ │ ├── main.py # FastAPIエントリポイント
│ │ ├── config.py # 設定値
│ │ ├── routers/ # APIエンドポイント
│ │ ├── services/ # ビジネスロジック
│ │ ├── cruds/ # DB操作
│ │ ├── models/ # テーブル定義
│ │ ├── schemas/ # 入出力の型定義
│ │ └── core/ # 認証・共通処理
│ ├── alembic/ # DBマイグレーション
│ ├── tests/ # テストコード
│ ├── utils/ # 便利スクリプト
│ └── AGENTS.md
│
├── base_client/ # -- フロントエンド --
│ └── base-vue/
│ ├── src/
│ │ ├── main.js # エントリポイント
│ │ ├── App.vue # ルートコンポーネント
│ │ ├── router/ # ルーティング
│ │ ├── views/ # 画面コンポーネント
│ │ ├── components/ # 共通部品
│ │ └── stores/ # 状態管理(Pinia)
│ └── vite.config.js
│
└── docs/開発ガイド/
 ├── README.md # 本書
 ├── 00_このプロジェクトの歩き方/
 ├── 01_明日のために！その１_環境構築ハンズオン/
 ├── 02_明日のために！その２_バックエンド開発/
 └── ...
```

### 2.3 開発時のURL

| 用途 | URL | 備考 |
|------|-----|------|
| フロント画面 | http://localhost:8080/ | `admin` / `********` でログイン |
| API仕様書 | http://localhost:8081/base/api/docs | Swagger UI |
| API（実体） | http://localhost:8081/base/api/v1/... | 直接叩く場合 |

---

## 3. 最短で動かす（セットアップ → 起動）

### 3.1 必要なもの（事前準備）

| ツール | バージョン | 確認コマンド | 備考 |
|--------|-----------|-------------|------|
| Python | 3.10以上 | `python --version` | 3.11以上推奨 |
| Node.js | 16.x以上 | `node --version` | LTS版推奨 |
| PostgreSQL | 12以上 | サービス起動確認 | ローカルまたはリモート |
| uv | 最新版 | `uv --version` | `pip install uv` で導入 |

**PostgreSQL接続情報（デフォルト）:**
- ホスト: `localhost`
- ポート: `5432`
- データベース: `basedb`
- ユーザー: `postgres`
- パスワード: `password`（環境に応じて変更）

### 3.2 初回セットアップ

```powershell
cd workspace/AiDiy2026
python _setup.py
```

これだけで、以下がまとめて実行されます：

1. Python依存関係のインストール（`uv sync`）
2. Node.js依存関係のインストール（`npm install`）
3. データベース初期化（テーブル作成）
4. マイグレーション実行（最新スキーマへ更新）
5. 初期管理者アカウント作成（`admin`/`********`）

注意: PostgreSQLが起動していること、接続情報が正しいことを確認してください。

### 3.3 起動

```powershell
cd workspace/AiDiy2026
python _start.py
```

このスクリプトは以下を自動で行います：
- バックエンドサーバー起動（ポート8081）
- フロントエンドサーバー起動（ポート8080）
- 両方のログをリアルタイム表示

注意: ポート8080/8081が既に使用されている場合は競合します。
タスクマネージャーで `python.exe` や `node.exe` のプロセスを確認してください。

**個別起動の方法:**

```powershell
# バックエンドのみ
cd workspace/AiDiy2026/base_server
uv run uvicorn baseapp.main:app --port 8081 --reload

# フロントエンドのみ
cd workspace/AiDiy2026/frontend_server/base-vue
npm run dev
```

### 3.4 起動確認

1. http://localhost:8080/ を開く
2. `admin` / `********` でログイン
3. ダッシュボードが表示されたら成功！

### 3.5 よくあるトラブル

| 症状 | 原因と対処 |
|------|-----------|
| ポートが使用中（8080/8081） | 前回のプロセスが残っている → タスクマネージャーで終了するか、`taskkill /F /IM python.exe` / `taskkill /F /IM node.exe` |
| ログインできない | 管理者アカウントがない → `python base_server/utils/create_admin_user.py` で再作成 |
| APIが404エラー | フロントは `/api/...` を呼び、Viteプロキシが `/base/api/...` に変換。`vite.config.js` の設定を確認 |
| DB接続エラー | PostgreSQLが起動しているか確認。`base_server/baseapp/config.py` の接続情報を確認 |
| マイグレーションエラー | `cd base_server && uv run alembic upgrade head` で最新スキーマへ更新 |

---

## 4. バックエンド編（FastAPI + PostgreSQL）

### 4.1 アーキテクチャ：責務分離の4層構造

```
リクエスト
 │
 ▼
┌─────────────────────────────────────────────────────────┐
│ Router（routers/） │
│ ─────────────────── │
│ 役割：受付係 │
│ ・URLとHTTPメソッドの定義 │
│ ・リクエストの受け取りとレスポンスの返却 │
│ ・認証チェック（誰がアクセスしているか） │
└─────────────────────────────────────────────────────────┘
 │
 ▼
┌─────────────────────────────────────────────────────────┐
│ Service（services/） │
│ ───────────────────── │
│ 役割：調理場 │
│ ・ビジネスロジックの実装 │
│ ・権限チェック（何ができるか） │
│ ・データの加工・整形 │
└─────────────────────────────────────────────────────────┘
 │
 ▼
┌─────────────────────────────────────────────────────────┐
│ CRUD（cruds/） │
│ ───────────────── │
│ 役割：倉庫番 │
│ ・データベースへの読み書き │
│ ・SQLAlchemyによるクエリ実行 │
└─────────────────────────────────────────────────────────┘
 │
 ▼
┌─────────────────────────────────────────────────────────┐
│ Model（models/）＋ Schema（schemas/） │
│ ────────────────────────────────────── │
│ 役割：設計図と注文票 │
│ ・Model：テーブル構造の定義 │
│ ・Schema：APIの入出力形式の定義 │
└─────────────────────────────────────────────────────────┘
```

### 4.2 コードの追いかけ方

**迷ったらこの順番で読む：**

1. **Swagger UI** (`/base/api/docs`) で、APIのURL・入出力を確認
2. **Router** で、そのURLを受けている関数を探す
3. **Service** で、実際の処理内容を読む
4. **CRUD** → **Model** で、DB操作を追う

### 4.3 認証と権限

| レベル | 名称 | View | Create | Update | Delete |
|--------|------|:----:|:------:|:------:|:------:|
| 1 | 責任者 | | | | |
| 2 | 管理者 | | | | |
| 3 | 担当者 | | | | - |
| 4 | 閲覧者 | | - | - | - |
| 9 | その他 | | - | - | - |

実装の中心は `base_server/baseapp/core/` にあります。

---

## 5. データベース編（PostgreSQL + Alembic）

### 5.1 触る場所

| 何をしたい | どこを見る |
|-----------|-----------|
| テーブル構造を知りたい | `base_server/baseapp/models/` |
| テーブルを変更したい | Model変更 → Alembic migration |
| DBを初期化したい | `base_server/postgres/` |
| DBをリセットしたい | `base_server/utils/reset_database.py` |

### 5.2 マイグレーションの流れ

```powershell
cd workspace/AiDiy2026/base_server

# 1. マイグレーションファイル生成
uv run alembic revision --autogenerate -m "Add xxx table"

# 2. マイグレーション実行
uv run alembic upgrade head

# 3. （戻したい場合）1つ前に戻す
uv run alembic downgrade -1
```

---

## 6. フロントエンド編（Vue 3 + Vite）

### 6.1 ディレクトリ構成

```
base_client/base-vue/src/
│
├── main.js # アプリのエントリポイント
├── App.vue # ルートコンポーネント
│
├── router/ # ルーティング定義
│ └── index.js # URL → コンポーネントの対応
│
├── views/ # 画面コンポーネント（ページ単位）
│ ├── HomeView.vue
│ ├── users/ # ユーザー管理画面
│ └── ...
│
├── components/ # 共通部品
│ ├── common/ # 汎用コンポーネント
│ └── ...
│
└── stores/ # 状態管理（Pinia）
 ├── auth.js # 認証状態
 └── ...
```

### 6.2 API通信の仕組み

```
フロント Vite Proxy バックエンド
─────── ────────── ────────────
/api/v1/users ──────► 書き換え ──────► /base/api/v1/users
 (自動)
```

- フロントは `/api/...` を呼ぶ
- Viteが `/base/api/...` に変換してサーバーへ転送
- 404が出たら、このプロキシ設定を確認（`vite.config.js`）

### 6.3 コンポーネントの読み方

Vue 3の `<script setup>` 構文：

```vue
<script setup>
// ここにロジック（リアクティブ変数、関数、ライフサイクル）
import { ref, onMounted } from 'vue'

const count = ref(0) // リアクティブな変数
const increment = () => count.value++ // 関数

onMounted(() => {
 // 画面表示時に実行される
})
</script>

<template>
 <!-- ここにHTML -->
 <button @click="increment">{{ count }}</button>
</template>

<style scoped>
/* ここにCSS（scopedで他に影響しない） */
</style>
```

---

## 7. テスト編

### 7.1 バックエンドテスト

```powershell
cd workspace/AiDiy2026/base_server

# 全テスト実行
uv run pytest

# 特定ファイルのみ
uv run pytest tests/test_api_auth.py

# カバレッジ付き
uv run pytest --cov=baseapp
```

テストファイルの場所：`base_server/tests/`

### 7.2 テストの読み方

```python
def test_login_success(client):
 """正常ログインのテスト"""
 response = client.post("/base/api/v1/token", data={
 "username": "admin",
 "password": "********"
 })
 assert response.status_code == 200
 assert "access_token" in response.json()
```

- 関数名は `test_` で始める
- `client` はFastAPIのテストクライアント（fixture）
- `assert` で期待値を検証

---

## 8. 運用とメンテナンス

### 8.1 便利スクリプト一覧

| スクリプト | 用途 | 使用例 |
|-----------|------|--------|
| `_start.py` | サーバー一括起動 | `python _start.py` |
| `_setup.py` | 初回セットアップ | `python _setup.py` |
| `_cleanup.py` | クリーンアップ（配布前） | `python _cleanup.py` |
| `utils/create_admin_user.py` | 管理者アカウント作成/リセット | `python base_server/utils/create_admin_user.py` |
| `utils/create_test_users.py` | テスト用ユーザー作成 | `python base_server/utils/create_test_users.py` |
| `utils/reset_database.py` | DB初期化（全データ削除） | `python base_server/utils/reset_database.py` |
| `utils/show_table_structure.py` | テーブル構造確認 | `python base_server/utils/show_table_structure.py` |
| `utils/model2md.py` | モデルをMarkdown出力 | `python base_server/utils/model2md.py` |

**_cleanup.pyについて:**
他の開発者にプロジェクトを渡す前に実行します。以下をクリーンアップ：
- `node_modules/` フォルダ
- `__pycache__/` フォルダ
- `.venv/` 仮想環境
- ログファイル
- 一時ファイル

クリーンアップ後は `_setup.py` で再セットアップが必要です。

### 8.2 ログの場所

- バックエンド：`base_server/logs/baseapp.log`

### 8.3 壊したときの復旧

**状況別の対処法:**

| 状況 | 対処法 | コマンド |
|------|--------|----------|
| **ログイン不能** | 管理者アカウント再作成 | `python base_server/utils/create_admin_user.py` |
| **DBスキーマがおかしい** | マイグレーション再実行 | `cd base_server && uv run alembic upgrade head` |
| **DBデータがおかしい** | DB初期化 | `python base_server/utils/reset_database.py` |
| **依存関係がおかしい** | 再インストール | `cd base_server && uv sync --force`<br>`cd base_client/base-vue && npm ci` |
| **何もかもダメ** | フルリセット | `python _cleanup.py` → `python _setup.py` |

注意:
- `reset_database.py` は全データを削除します（本番環境では絶対に実行しない）
- `_cleanup.py` は開発環境も削除します（再セットアップが必要）

---

## 9. 困ったときは

### 9.1 AIに聞くコツ

このプロジェクトは AI フレンドリーな構成になっています。
各フォルダの `AGENTS.md` には、AI が理解しやすい形でプロジェクト情報が記載されています。

**良い聞き方の例:**

- **悪い例**: 「ユーザー一覧APIを作って」
- **良い例**: 「このプロジェクトの流儀（Schema→Model→CRUD→Service→Router）に沿って、ユーザー一覧APIを作りたい。まずSchemaから教えて」

- **悪い例**: 「エラーが出た」
- **良い例**: 「バックエンド起動時に `ModuleNotFoundError: No module named 'fastapi'` が出ました。`uv sync` は実行済みです。`logs/baseapp.log` には以下のエラーが...(ログを貼付)」

**エラー時に伝えるべき情報:**

1. エラーメッセージ全文（スクリーンショットより、テキストをコピペ）
2. 直前に何をしたか（実行したコマンド、変更したファイル）
3. 環境情報（Python/Node.jsのバージョン、OS）
4. ログファイル（`base_server/logs/baseapp.log`）の関連部分

**AI との協働のコツ:**

- **段階的に進める**: 一度に全部を聞かず、1ステップずつ確認しながら進む
- **コードレビューを依頼**: 「このコード、このプロジェクトの規約に沿っていますか？」
- **テストケースも一緒に**: 「この機能のテストコードも書いて」

### 9.2 参照すべきドキュメント

このプロジェクトには複数のドキュメントがあります。目的に応じて使い分けてください。

| ドキュメント | 内容 | いつ読む？ |
|-------------|------|-----------|
| **`workspace/AiDiy2026/AGENTS.md`** | プロジェクト概要、起動方法、クイックスタート | 最初に読む |
| **`workspace/AiDiy2026/backend_server/AGENTS.md`** | バックエンド詳細、アーキテクチャ、マイグレーション、コーディング規約 | バックエンド開発時 |
| **`workspace/AiDiy2026/frontend_server/AGENTS.md`** | フロントエンド詳細、コンポーネント構造、API通信実装、命名規則 | フロントエンド開発時 |
| **本書（`docs\開発ガイド\README.md`）** | 全体の歩き方、学習の道しるべ | 初学者、全体像を掴みたいとき |
| **`base_server\tests\README.md`** | テストの書き方、実行方法 | テスト実装時 |

**迷ったら:**
1. まず本書で全体像を掴む
2. 各フォルダの `AGENTS.md` で詳細を確認
3. それでも不明なら AI に聞く（AGENTS.md を参照してもらう）

---

## 10. セキュリティと本番環境

### 10.1 開発環境と本番環境の違い

重要: このプロジェクトは開発・学習用です。本番環境にデプロイする前に、必ず以下を確認してください。

| 項目 | 開発環境（デフォルト） | 本番環境で必要なこと |
|------|---------------------|-------------------|
| **管理者パスワード** | `admin` / `********` | 強力なパスワードに変更 |
| **SECRET_KEY** | 固定値 | ランダムな値を環境変数で設定 |
| **CORS設定** | `*`（全許可） | 必要なオリジンのみ許可 |
| **デバッグモード** | ON | OFF（`--reload` を削除） |
| **データベース** | ローカルPostgreSQL | セキュアな接続、バックアップ設定 |
| **HTTPS** | HTTP | HTTPS必須（証明書設定） |
| **ログレベル** | DEBUG | INFO または WARNING |

### 10.2 セキュリティチェックリスト

本番環境へのデプロイ前に、以下を確認してください。

- 環境変数でシークレット管理（`.env` ファイル、コードに直書きしない）
- SQLインジェクション対策（SQLAlchemy使用で基本的にOK）
- XSS対策（Vue.jsのテンプレートで基本的にOK）
- CSRF対策（必要に応じてトークン実装）
- レート制限（API呼び出しの上限設定）
- ログの適切な管理（個人情報をログに出さない）
- 依存関係の脆弱性チェック（`pip-audit`, `npm audit`）

### 10.3 本番環境への移行ガイド（概要）

本格的なデプロイには以下が必要です：

1. **環境変数の設定**
 - `SECRET_KEY`、`DATABASE_URL` など
 - `.env` ファイルまたはクラウドサービスの環境変数機能を使用

2. **Webサーバーの設定**
 - Nginx または Apache でリバースプロキシ
 - HTTPS証明書（Let's Encrypt など）

3. **アプリケーションサーバー**
 - Uvicorn + Gunicorn でプロセス管理
 - systemd または Docker でサービス化

4. **データベース**
 - 外部PostgreSQLサーバー（AWS RDS, Google Cloud SQL など）
 - バックアップ・リストア計画

5. **監視・運用**
 - ログ集約（Fluentd, CloudWatch など）
 - メトリクス監視（Prometheus, Datadog など）
 - アラート設定

詳細は別途「本番環境構築ガイド」を参照してください（今後作成予定）。

---

## 11. 将来の拡張性

### 11.1 TypeScript対応への道

現状は JavaScript ですが、将来的に TypeScript へ移行すると、以下のメリットがあります：

- **壊れたらビルドで止まる**（型の不整合を早期発見）
- **APIの想定ズレに気づける**（境界が型で守られる）
- **引き継ぎがラクになる**（コードが自己説明的になる）

おすすめ移行戦略（段階的に）:

1. TypeScriptの土台だけ入れる（共存可能）
2. Pinia store と API クライアントを TS 化（効果大）
3. 触る画面から順に `.vue` を TS 化
4. 最後に型チェック必須化

---

## 12. 別紙：ハンズオン教材一覧

このガイドで「地図」を手に入れたら、次は実際に手を動かして学びましょう。
以下の別紙で、具体的なコードを書きながら理解を深めます。

---

### 別紙01：システム導入と構成の理解

> `_setup.py` と `_start.py` を読み解きながら、システム全体の構成を学ぶ

**このハンズオンで学べること:**

- `_setup.py` が何をしているか説明できる
- `_start.py` が何をしているか説明できる
- なぜこのフォルダ構成なのか理解できる
- 依存関係の管理方法（uv, npm）が分かる
- 環境変数と設定ファイルの関係が分かる

**ハンズオンの流れ：**

1. `_setup.py` のコードを読む
2. 各ステップが何をしているか書き出す
3. `_start.py` のコードを読む
4. ポート管理・プロセス管理の仕組みを理解する

詳細: `01_明日のために！その１_環境構築ハンズオン/`（作成予定）

---

### 別紙02：バックエンド機能追加（実践）

> 「商品マスタ機能」を題材に、APIを一から作る

**このハンズオンで学べること:**

- Schema → Model → CRUD → Service → Router の流れを実践できる
- Alembic でマイグレーションを作成・実行できる
- Swagger UI で自分が作ったAPIを試せる

**ハンズオンの流れ：**

1. 要件を確認する（商品情報の登録・編集・削除）
2. `schemas/items.py` を作る
3. `models/items.py` を作る
4. マイグレーションを作成・実行する
5. `cruds/items.py` を作る
6. `services/service_items.py` を作る
7. `routers/api_v1_items.py` を作る
8. `main.py` にルーターを登録する
9. Swagger UI で動作確認

詳細: `02_明日のために！その２_バックエンド開発/`

---

### 別紙03：バックエンドテスト（実践）

> 自分が作ったAPIのテストを書く

**このハンズオンで学べること:**

- pytest でテストを書ける
- 正常系・異常系の両方をテストできる
- カバレッジを確認できる

**ハンズオンの流れ：**

1. `tests/test_api_favorites.py` を作成
2. 正常系テスト（お気に入り登録・取得・削除）
3. 異常系テスト（認証エラー、存在しないID）
4. テスト実行・カバレッジ確認
5. （発展）CI/CDでの自動テスト設定

詳細: `05_明日のために！その５_テスト自動化/`（作成予定）

---

### 別紙04：フロントエンド機能追加（実践）

> バックエンドで作った「商品マスタ機能」の画面を作る

**このハンズオンで学べること:**

- Vue Router にルートを追加できる
- 一覧画面（List）を作成できる
- 編集画面（Edit/Create）を作成できる
- API通信（axios）を実装できる
- Pinia store を活用できる

**ハンズオンの流れ：**

1. 画面設計（何が必要か洗い出す）
2. ルーティング追加（`router/index.js`）
3. API通信用の関数を作成
4. 一覧画面コンポーネント作成
5. 詳細/編集画面コンポーネント作成
6. 権限に応じたUI制御を実装
7. 動作確認

詳細: `03_明日のために！その３_フロントエンド開発/`

---

### 別紙05：フロントエンドテスト（実践）

> 画面コンポーネントのテストを書く

**このハンズオンで学べること:**

- Vitest / Vue Test Utils をセットアップできる
- コンポーネントの単体テストを書ける
- API通信をモックできる

**ハンズオンの流れ：**

1. テスト環境のセットアップ
2. シンプルなコンポーネントのテスト
3. ユーザー操作のシミュレーション
4. API通信のモック
5. （発展）スナップショットテスト

詳細: `05_明日のために！その５_テスト自動化/`（作成予定）

---

## おわりに：フルスタックへの道

このガイドを最後まで読んだあなたは、もう「迷子」ではありません。

- **地図**を手に入れました（どこに何があるか分かる）
- **コンパス**を手に入れました（迷ったときの戻り方が分かる）
- **装備**の使い方を知りました（各ツールの役割が分かる）

あとは実際に歩くだけです。

最初は小さな修正から。慣れてきたら新機能の追加。
そしていつか、このプロジェクトの「次の歩き方ガイド」を書く側になってください。

Happy Coding!

---

## 付録：ドキュメントフォルダ構成

この資料群を管理・拡張するためのフォルダ構成です。

### フォルダ構成（7フォルダ）

```
workspace/AiDiy2026/docs\開発ガイド
│
├── README.md # 総合案内（本ファイル）
│
├── 00_このプロジェクトの歩き方/ # -- 本書：道しるべ（約10ページ）--
│ ├── _index.html # 目次・ナビゲーション
│ ├── 01_はじめに.html # 本書の目的、到達目標
│ ├── 02_技術スタックと構成.html # システム構成図、リポジトリ構成
│ ├── 03_セットアップと起動.html # setup → start → 確認
│ ├── 04_バックエンド開発.html # 4層構造、コードの追いかけ方
│ ├── 05_データベース管理.html # マイグレーション、テーブル管理
│ ├── 06_フロントエンド開発.html # Vue構成、API通信の仕組み
│ ├── 07_テストの書き方.html # テストの基本、pytest/Vitest
│ ├── 08_運用とメンテナンス.html # 運用Tips、トラブルシューティング
│ ├── 09_困ったときは.html # AI活用、参照資料
│ ├── 10_セキュリティと本番環境.html # セキュリティ対策、本番移行
│ ├── common.js # コピーボタン、スムーズスクロール等
│ └── style.css # 共通スタイル
│
├── 01_明日のために！その１_環境構築ハンズオン/ # -- 別冊1（約10ページ）--
│ ├── _index.html # 目次
│ ├── 00_用語集.html # よく使う用語の説明
│ ├── 01_全体像.html # このハンズオンのゴール
│ ├── 02_setup.py解説.html # 依存関係、DB初期化の仕組み
│ ├── 03_start.py解説.html # ポート管理、プロセス管理
│ ├── 04_設定ファイル.html # config.py、vite.config.js
│ ├── 99_まとめ.html # 学んだことの振り返り
│ ├── common.js # コピーボタン、スムーズスクロール等
│ ├── style.css # 共通スタイル
│ └── sources/ # サンプルコード格納用
│
├── 02_明日のために！その２_バックエンド開発/ # -- 別冊2（約10ページ）--
│ ├── _index.html # 目次
│ ├── 01_準備と進め方.html # 商品マスタ機能の要件
│ ├── 02_Schema作成.html # 入出力の型定義
│ ├── 03_Model作成.html # テーブル定義
│ ├── 04_Migration実行.html # マイグレーション実行
│ ├── 05_CRUD作成.html # DB操作
│ ├── 06_Service作成.html # ビジネスロジック
│ ├── 07_Router作成.html # エンドポイント登録
│ ├── 08_動作確認.html # Swagger UI で確認
│ ├── 09_まとめ.html # 学んだことの振り返り
│ ├── common.js
│ ├── style.css
│ ├── code-loader.js
│ └── sources/
│ ├── items_schema.py
│ ├── items_model.py
│ ├── items_crud.py
│ ├── items_service.py
│ └── items_router.py
│
├── 03_明日のために！その３_フロントエンド開発/ # -- 別冊3（約10ページ）--
│ ├── _index.html # 目次
│ ├── 01_準備と進め方.html # 画面設計、コンポーネント設計
│ ├── 02_編集画面作成.html # ItemsEdit.vue
│ ├── 03_ルーティング設定.html # router/index.js への追加
│ ├── 04_一覧テーブル作成.html # ItemsListTable.vue（子コンポーネント）
│ ├── 05_一覧画面作成.html # ItemsList.vue（親コンポーネント）
│ ├── 06_ルーティング追加とメニュー登録.html # 一覧画面のルーティング
│ ├── 07_動作確認.html # ブラウザで確認
│ ├── 99_まとめ.html # 学んだことの振り返り
│ ├── common.js
│ ├── style.css
│ ├── code-loader.js
│ └── sources/
│ ├── ItemsEdit.vue # 編集/新規作成画面
│ ├── ItemsListTable.vue # 一覧テーブル（子）
│ └── ItemsList.vue # 一覧画面（親）
│
├── 04_明日のために！その４_開発自動化/ # -- 別冊4（約10ページ）--
│ ├── _index.html # 目次
│ ├── 01_開発自動化とは.html # なぜ自動化するのか
│ ├── 02_VSCodeタスク.html # tasks.json の活用
│ ├── 03_ホットリロード.html # 変更の即時反映
│ ├── 04_コード生成.html # テンプレートからの自動生成
│ ├── 05_Lintとフォーマット.html # コード品質の自動チェック
│ ├── 06_Git hooks.html # コミット時の自動チェック
│ ├── 99_まとめ.html # 学んだことの振り返り
│ ├── style.css
│ └── sources/
│
├── 05_明日のために！その５_テスト自動化/ # -- 別冊5（約10ページ）--
│ ├── _index.html # 目次
│ ├── 01_テストの意義.html # なぜテストを書くのか
│ ├── 02_バックエンドテスト基礎.html # pytest の使い方
│ ├── 03_バックエンドテスト実践.html # お気に入りAPIのテスト
│ ├── 04_フロントエンドテスト基礎.html # Vitest / Vue Test Utils
│ ├── 05_フロントエンドテスト実践.html # コンポーネントテスト
│ ├── 06_カバレッジ.html # テストカバレッジの確認
│ ├── 07_CI連携.html # 自動テストの仕組み（発展）
│ ├── 99_まとめ.html # 学んだことの振り返り
│ ├── style.css
│ └── sources/
│ ├── test_favorites.py
│ └── FavoritesList.spec.js
│
└── _assets/ # -- 共通リソース --
 ├── css/
 │ └── common.css # 共通スタイル
 ├── js/
 │ └── code-loader.js # ソースコード読み込み用
 └── images/
 ├── architecture.png # システム構成図
 └── ...
```

### ガイドとハンズオンの対応

| ガイド（00_このプロジェクトの歩き方） | ハンズオン |
|-------------------------------------|----------------------|
| 04_環境構築.html | `01_明日のために！その１_環境構築ハンズオン/` |
| 05_バックエンド概要.html | `02_明日のために！その２_バックエンド開発/` |
| 06_フロントエンド概要.html | `03_明日のために！その３_フロントエンド開発/` |
| 07_テストと運用.html | `04_明日のために！その４_開発自動化/`<br>`05_明日のために！その５_テスト自動化/` |

### 命名規則

| 種類 | ルール | 例 |
|------|--------|-----|
| フォルダ | `NN_タイトル/` | `02_明日のために！その２_バックエンド開発/` |
| HTMLファイル | `NN_タイトル.html` | `03_Model作成.html` |
| 目次ファイル | `_index.html` | |
| サンプルコード | `sources/` フォルダに格納 | `sources/favorites_schema.py` |
| 共通リソース | `_assets/` に格納 | `_assets/css/common.css` |

### 作成予定チェックリスト

- `00_このプロジェクトの歩き方/` — 本書（道しるべ）約10ページ
- `01_明日のために！その１_環境構築ハンズオン/` — _setup.py/_start.py 解説
- `02_明日のために！その２_バックエンド開発/` — 機能追加ハンズオン
- `03_明日のために！その３_フロントエンド開発/` — 機能追加ハンズオン
- `04_明日のために！その４_開発自動化/` — VSCodeタスク、Lint、Git hooks
- `05_明日のために！その５_テスト自動化/` — バックエンド＋フロントエンドのテスト
- `_assets/` — 共通CSS/JS/画像




